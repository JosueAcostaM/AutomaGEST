@model Modelos_AutomaG.Programas

<div class="container mt-4">
    <link rel="stylesheet" href="~/css/aspirantes-detalles.css" asp-append-version="true" />

    <div class="row">
        <div class="col-md-8">
            <div class="card shadow-sm border-0 p-4 mb-4 bg-white rounded-4">
                <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
                    <h3 class="text-primary-emphasis mb-0">Gestión de Programa</h3>
                    <button type="button" class="btn btn-primary rounded-pill px-4" id="btnEditar">
                        <i class="fas fa-edit me-2"></i>Editar
                    </button>
                </div>

                <div id="modoVisualizacion">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label class="text-muted small fw-bold text-uppercase">Nombre</label>
                            <p class="fs-5 fw-medium">@Model.nombrepro</p>
                        </div>
                        <div class="col-md-6">
                            <label class="text-muted small fw-bold text-uppercase">Duración</label>
                            <p class="fs-5">@(Model.duracionpro ?? "No definida")</p>
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-4">
                            <label class="text-muted small fw-bold text-uppercase">Campo</label>
                            <p>@Model.Campo?.nombrecam</p>
                        </div>
                        <div class="col-md-4">
                            <label class="text-muted small fw-bold text-uppercase">Nivel</label>
                            <p>@Model.Nivel?.nombreniv</p>
                        </div>
                        <div class="col-md-4">
                            <label class="text-muted small fw-bold text-uppercase">Modalidad</label>
                            <p>@Model.Modalidad?.nombremod</p>
                        </div>
                    </div>

                    <div class="row mb-4 p-3 bg-light rounded-3">
                        <div class="col-md-12 mb-2"><label class="text-muted small fw-bold text-uppercase">Costos Actuales</label></div>
                        <div class="col-md-4">
                            <small class="d-block text-muted">Matrícula</small>
                            <span class="fw-bold text-success">@Model.Precio?.matriculapre @Model.Precio?.monedapre</span>
                        </div>
                        <div class="col-md-4">
                            <small class="d-block text-muted">Arancel</small>
                            <span class="fw-bold text-success">@Model.Precio?.arancelpre @Model.Precio?.monedapre</span>
                        </div>
                        <div class="col-md-4">
                            <small class="d-block text-muted">Inscripción</small>
                            <span class="fw-bold text-success">@Model.Precio?.inscripcionpre @Model.Precio?.monedapre</span>
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-12">
                            <label class="text-muted small fw-bold text-uppercase mb-2 d-block">Cronograma de Clases</label>
                            @if (Model.ProgramasHorarios != null && Model.ProgramasHorarios.Any())
                            {
                                <div class="d-flex flex-wrap gap-2">
                                    @foreach (var ph in Model.ProgramasHorarios)
                                    {
                                        <div class="badge bg-primary-subtle text-primary border border-primary-subtle p-2">
                                            <i class="far fa-clock me-1"></i>
                                            @ph.Horario?.dia: @ph.Horario?.horainicio.ToString(@"hh\:mm") - @ph.Horario?.horafin.ToString(@"hh\:mm")
                                        </div>
                                    }
                                </div>
                            }
                            else
                            {
                                <p class="text-muted fst-italic small">No hay horarios vinculados a este programa.</p>
                            }
                        </div>
                    </div>
                </div>

                <div id="modoEdicion" style="display:none;">
                    @* ... (Manten tu formulario actual aquí) ... *@
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow-sm border-0 p-4 bg-white rounded-4 sticky-top" style="top: 2rem;">
                <h5 class="text-secondary mb-3">Auditoría</h5>
                <div class="d-flex justify-content-between border-bottom py-2">
                    <span class="text-muted small">ID Sistema</span>
                    <span class="fw-bold">@Model.idpro</span>
                </div>
                <div class="d-flex justify-content-between border-bottom py-2">
                    <span class="text-muted small">Estado</span>
                    <span class="badge @(Model.estadopro == "activo" ? "bg-success" : "bg-danger")">@Model.estadopro</span>
                </div>
            </div>
        </div>
    </div>
</div>